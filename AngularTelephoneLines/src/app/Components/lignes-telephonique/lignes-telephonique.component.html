<div>
  <div class="row"><h1 class="titre-liste">Lignes Téléphonique</h1></div>
  <div class="container-fluid">
    <!--<mat-form-field class="filter" appearance="fill">
      <mat-label>Filter</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="Ex. nom" #input>
    </mat-form-field>-->
    <button mat-raised-button color="primary" (click)="openAddEditLignForm()" matTooltip="Ajouter un utilisateur" [matTooltipShowDelay]="1000">
      AJOUTER
    </button>
  </div>
    <div class="table-container">
      <table mat-table [dataSource]="dataSource" [style.transform]="'scale(' + zoomLevel + ')'">
        <!-- Colonne ID de la Ligne -->
        <ng-container matColumnDef="idLigne">
          <th mat-header-cell *matHeaderCellDef> ID_de_la_Ligne</th>
          <td mat-cell *matCellDef="let element"><div class="cell-content"> {{element.idLigne}} </div></td>
        </ng-container>

        <!-- Colonne Numéro de la Ligne -->
        <ng-container matColumnDef="numeroLigne">
          <th mat-header-cell *matHeaderCellDef> Numéro_de_la_Ligne</th>
          <td mat-cell *matCellDef="let element"> <div class="cell-content">{{element.numeroLigne}} </div></td>
        </ng-container>

        <!-- Colonne Affectation -->
        <ng-container matColumnDef="affectation">
          <th mat-header-cell *matHeaderCellDef> Affectation </th>
          <td mat-cell *matCellDef="let element"> {{element.affectation}} </td>
        </ng-container>

        <!-- Colonne Poste -->
        <ng-container matColumnDef="poste">
          <th mat-header-cell *matHeaderCellDef> Poste </th>
          <td mat-cell *matCellDef="let element"> {{element.poste}} </td>
        </ng-container>

        <!-- Colonne Etat -->
        <ng-container matColumnDef="etat">
          <th mat-header-cell *matHeaderCellDef> État </th>
          <td mat-cell *matCellDef="let element"> {{element.etat}} </td>
        </ng-container>

        <!-- Colonne Date de Livraison -->
        <ng-container matColumnDef="dateLivraison">
          <th mat-header-cell *matHeaderCellDef> Date de Livraison </th>
          <td mat-cell *matCellDef="let element"> {{element.dateLivraison | date}} </td>
        </ng-container>

        <!-- Colonne Numéro de Série -->
        <ng-container matColumnDef="numeroSerie">
          <th mat-header-cell *matHeaderCellDef> Numéro de Série </th>
          <td mat-cell *matCellDef="let element"> {{element.numeroSerie}} </td>
        </ng-container>

        <!-- Colonne Montant -->
        <ng-container matColumnDef="montant">
          <th mat-header-cell *matHeaderCellDef> Montant </th>
          <td mat-cell *matCellDef="let element"> {{element.montant}} </td>
        </ng-container>

        <!-- Colonne Date de Création -->
        <ng-container matColumnDef="createdDate">
          <th mat-header-cell *matHeaderCellDef> Date de Création </th>
          <td mat-cell *matCellDef="let element"> {{element.createdDate | date}} </td>
        </ng-container>

        <!-- Colonne Nom du Type de Ligne -->
        <ng-container matColumnDef="typeLigne.nomType">
          <th mat-header-cell *matHeaderCellDef> Nom du Type de Ligne </th>
          <td mat-cell *matCellDef="let element"> {{element.typeLigne.nomType}} </td>
        </ng-container>


        <!-- Colonne Type de Ligne -->
        <!--<ng-container matColumnDef="typeLigne">
          <th mat-header-cell *matHeaderCellDef> Type_de_Ligne</th>
          <td mat-cell *matCellDef="let element">
            <div class="cell-content">
              <div *ngFor="let attribut of element.typeLigne" style="display: inline">
                {{attribut.nomType}}: {{attribut.valeurAttribut}}
              </div>
            </div>
          </td>
        </ng-container>-->


        <!-- Colonne pour chaque nom d'attribut -->
        <ng-container *ngFor="let attributName of attributNames" [matColumnDef]="attributName">
          <th mat-header-cell *matHeaderCellDef> {{attributName}} </th>
          <td mat-cell *matCellDef="let element">
            <div class="cell-content">
              <!-- Trouver la valeur de l'attribut correspondant -->
              {{ findAttributValue(element.ligneAttributs, attributName) }}
            </div>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row
            *matRowDef="let row; columns: displayedColumns; let i = index"
            [ngClass]="{'highlighted': i === selectedRowIndex}"
            (click)="selectedRow(row, i)">
        </tr>

      </table>
      <!--<tr class="mat-row" *matNoDataRow>
         <td class="mat-cell" colspan="17">Aucune donnée pour le filtre "{{ input.value }}"</td>
       </tr>-->
    </div>

    <div class="action-container" *ngIf="!isObjectEmpty(ligneRow)" [@slideInOut]="buttonActionState">
      <button mat-button (click)="EditLigne()" matTooltip="Modifier" [matTooltipShowDelay]="1000"> <mat-icon color="primary">edit</mat-icon> </button>
      <button mat-button color="warn" (click)="DeleteLigne()" matTooltip="Supprimer" [matTooltipShowDelay]="1000"> <mat-icon color="warn">delete</mat-icon> </button>
    </div>
    <div class="zoom-container">
      <button mat-button (click)="zoomOut()" matTooltip="zoom -" [matTooltipShowDelay]="1000"> <mat-icon>zoom_out</mat-icon> </button>
      <button mat-button (click)="zoomInit()" matTooltip="zoom 1" [matTooltipShowDelay]="1000"> <mat-icon> zoom_out_map</mat-icon> </button>
      <button mat-button (click)="zoomIn()" matTooltip="zoom +" [matTooltipShowDelay]="1000"> <mat-icon>zoom_in</mat-icon> </button>
    </div>

</div>

